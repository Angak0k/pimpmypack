-- Migration: DESCRIPTION
-- Created: DATE
-- Purpose: PURPOSE_DESCRIPTION

-- Create new table
CREATE TABLE IF NOT EXISTS table_name (
    id SERIAL PRIMARY KEY,
    user_id INTEGER NOT NULL REFERENCES accounts(id) ON DELETE CASCADE,
    field1 VARCHAR(255) NOT NULL,
    field2 TEXT,
    created_at TIMESTAMP NOT NULL,
    updated_at TIMESTAMP NOT NULL
);

-- Add indexes for performance
CREATE INDEX idx_table_name_user_id ON table_name(user_id);
CREATE INDEX idx_table_name_created_at ON table_name(created_at);

-- OR: Alter existing table
-- ALTER TABLE existing_table ADD COLUMN new_field VARCHAR(255);
-- ALTER TABLE existing_table ALTER COLUMN existing_field DROP NOT NULL;

-- Data migration (if needed)
-- UPDATE table_name SET field = 'value' WHERE condition;
